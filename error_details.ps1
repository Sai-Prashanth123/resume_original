$fileName = "test_resume.txt"; $userID = "test-user"; $jobTitle = "Software Engineer"; $url = "https://jobspringbackend.azurewebsites.net/process-all/"; $filePath = Join-Path $pwd.Path $fileName; try { $response = Invoke-WebRequest -Uri $url -Method Post -Form @{ file = Get-Item -Path $filePath; user_id = $userID; job_title = $jobTitle } -ContentType "multipart/form-data" -ErrorAction Stop; $response.Content; } catch { $_.Exception.Response; if ($_.Exception.Response) { $reader = New-Object System.IO.StreamReader($_.Exception.Response.GetResponseStream()); $reader.BaseStream.Position = 0; $reader.DiscardBufferedData(); $responseBody = $reader.ReadToEnd(); $responseBody; } }
